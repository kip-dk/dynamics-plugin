Kipon.Solid.Plugin: Copyright Kipon ApS 2019, 2020, 2021, 2022, 2023, 2024

DISCLAIMER
----------
This software is provided as-is, and is used on your own risk. Kipon ApS does not take any responsibility of damages directly or indirectly caused by the
use of this software.

LICENSE
-------
The software is licensed under MIT, and can be used and distributed for free. It is prohibited to sell the software under any circumstances. The namespace
Kipon.Xrm must be retained in any solution using this software, and the README.txt file installed in the Kipon folder must be keept and no changes can be made to 
this file.

USAGE
-----
It is recommended not to make any changes to the Kipon.Xrm.cs. Instead post and issue on the GIT project.

https://github.com/kip-dk/dynamics-plugin


INSTALLATION
------------
The software is installed using nuget installation process.

After installation you need to setup your local environment. This is done by renaming template files (simply remove the .template from the filename) and then
adjust the content of the file to your need.

The following template files need to be adjusted:

deploy.cmd.template  (a command line tool that can deploy your plugin assembly to Dynamics 365 CE)
Entities/filter.xml.template (an xml file describing the entities you need to work with in your plugin)
Entities/generate.cmd.template (a command line tool that can generate early bound entities according to filter.xml spec)
bin/coretools/Kipon.Xrm.Cmd.exe.config.template (configuration file for the Kipon.Xrm.Cmd.exe tool, you can added you CRM connection string here if you would like to avoid putting it directly into the generate.cmd command line script)

Finally you must include the Kipon/Kipon.Xrm.cs source in you C# dynamics-plugin-assembly-library project. This file is an accumulated single source version of all the coded needed to build
plugins, extending from the Kipon.Xrm.BasePlugin.


PROTECT YOUR CONNECTIONSTRING (starting from version 1.0.10.5)
-----------------------------------------------------
It is possible to protect you connection string if it contains secret information like application user id and secret. Use the Kipon.Xrm.Cmd.exe tool, places it in the bin\coretools folder
to registre you connectionstrings, and then replace connection string in the deploy and generate cmd tool with:

/connectionstring:auth=ENV-NAME

For the generate tool, you need to change crmsvcutil.exe call with kipon.xrm.cmd. The kipon tool is only wrapping the crmsvcutil tool, and unpacking the connection string from you personal
connection string storage before parsing it to crmsvcutil.exe

use

kipon.xrm.cmd auth create /name:ENG_NAME "/connectionstring:yourconnectionstring" 

..to create connection string in your local storage. If you ommit parameters, you will be prompted. 

You will also be prompted for a password. That is used to encrypt the connection string storage fil,
so it is only possible to decrypt the file if you know the password. You can use the word "ramdon" as password - to let the tool handle password. That will generate a random password and store it in your personal folder
locally on your developer machine. This is not 100% as secure as selecting a password, - on the other hand, you do not need to enter the password every time the connection storage is needed by a tool.

Different users on same developer machine have have separate connection string storages, and different passwords.

You will be prompted for this password on each decrypt of the connecting string storage - unless you choosed the random approach.

the connection string storage is saved in the users personal application data folder, and is personal, and will not be included in GIT repository push etc. The file cannot be copied
between different machines, so you need to do this setup for each machine you are using. 

You can use the auth list command to grap what you have registred.

UPGRADE
-------
After upgrade, remember to regenerate entities, using the generate.cmd tool in the Entities folder. This will ensure that your entity model is consistant with the expectations of the Kipon.Xrm.BasePlugin.

In rare cases, you can get compile errors after upgrade to a newer version of the framework. 

This will happen in situations where basic interfaces/methods in the model has been added, and implementations is generated by the generate tool. Just
regenerate your entities and the compile errors will go away.


updated: 2024-04-07 08:30 GMT+1